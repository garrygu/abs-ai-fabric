<!-- Document Library Tab -->
<div x-show="mainTab === 'library'" x-cloak class="p-8">
    <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                    <i class="fas fa-book mr-2"></i>Document Library
                </h2>
                <p class="text-gray-600 mt-2">Manage watch directories and view indexed documents</p>
            </div>

            <!-- Statistics Overview -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Total Documents</p>
                            <p class="text-2xl font-bold text-gray-900 mt-2" x-text="totalDocuments || 0">0</p>
                        </div>
                        <div class="bg-blue-100 rounded-full p-3">
                            <i class="fas fa-file-alt text-blue-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Watch Directories</p>
                            <p class="text-2xl font-bold text-gray-900 mt-2" x-text="watchDirectories?.length || 0">0</p>
                        </div>
                        <div class="bg-green-100 rounded-full p-3">
                            <i class="fas fa-folder-open text-green-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">Active Indexing</p>
                            <p class="text-2xl font-bold text-gray-900 mt-2" x-text="watchDirectories?.filter(d => d.enabled).length || 0">0</p>
                        </div>
                        <div class="bg-purple-100 rounded-full p-3">
                            <i class="fas fa-sync text-purple-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Watch Directories Section -->
            <div class="bg-white rounded-lg shadow mb-6">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold text-gray-900">
                            <i class="fas fa-folder-open mr-2"></i>Watch Directories
                        </h3>
                        <button @click="showWatchDirectoryModal = true"
                                class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium">
                            <i class="fas fa-plus mr-1"></i>Add Directory
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <!-- Empty State -->
                    <div x-show="!watchDirectories || watchDirectories.length === 0" class="text-center py-12">
                        <i class="fas fa-folder-open text-6xl text-gray-300 mb-4"></i>
                        <h4 class="text-lg font-medium text-gray-900 mb-2">No watch directories configured</h4>
                        <p class="text-gray-600 mb-4">Add a directory to start indexing documents automatically.</p>
                        <button @click="showWatchDirectoryModal = true"
                                class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                            <i class="fas fa-plus mr-2"></i>Add Your First Directory
                        </button>
                    </div>

                    <!-- Directory List -->
                    <div class="space-y-3" x-show="watchDirectories && watchDirectories.length > 0">
                        <template x-for="dir in watchDirectories" :key="dir.id">
                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3">
                                            <i class="fas fa-folder text-gray-400"></i>
                                            <p class="font-medium text-gray-900" x-text="dir.path"></p>
                                            <span class="px-2 py-1 text-xs font-medium rounded-full"
                                                  :class="dir.enabled ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'"
                                                  x-text="dir.enabled ? 'Active' : 'Inactive'"></span>
                                        </div>
                                        <p class="text-sm text-gray-600 mt-1">
                                            Type: <span class="capitalize" x-text="dir.path_type"></span> • 
                                            Recursive: <span x-text="dir.recursive ? 'Yes' : 'No'"></span>
                                        </p>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button @click="scanWatchDirectory(dir.id)"
                                                class="px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700">
                                            <i class="fas fa-sync mr-1"></i>Scan
                                        </button>
                                        <button @click="toggleWatchDirectory(dir.id, !dir.enabled)"
                                                class="px-3 py-1 text-sm rounded-md"
                                                :class="dir.enabled ? 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200' : 'bg-green-100 text-green-800 hover:bg-green-200'">
                                            <i class="fas" :class="dir.enabled ? 'fa-pause mr-1' : 'fa-play mr-1'"></i>
                                            <span x-text="dir.enabled ? 'Disable' : 'Enable'"></span>
                                        </button>
                                        <button @click="removeWatchDirectory(dir.id)"
                                                class="px-3 py-1 text-sm bg-red-100 text-red-800 rounded-md hover:bg-red-200">
                                            <i class="fas fa-trash mr-1"></i>Delete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- Coming Soon Notice -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                <div class="flex items-start">
                    <i class="fas fa-info-circle text-yellow-600 text-xl mr-3 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-yellow-900 mb-2">More Features Coming Soon</h4>
                        <p class="text-sm text-yellow-800">
                            Future updates will include:
                            • View indexed documents from each directory
                            • Detailed indexing statistics and status
                            • Bulk operations on documents
                            • Search and filter indexed files
                        </p>
                    </div>
                </div>
            </div>
    </div>
</div>




